[gd_scene load_steps=19 format=3 uid="uid://3bg27ttgcddr"]

[ext_resource type="Script" path="res://Creatures/pigeon.gd" id="1_wfdg6"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_447fv"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_gg0r2"]
shading_mode = 0
albedo_color = Color(0.281187, 0.281187, 0.281187, 1)

[sub_resource type="BoxMesh" id="BoxMesh_f2vnx"]
material = SubResource("StandardMaterial3D_gg0r2")
size = Vector3(2, 1, 1.2)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_d2uxl"]
points = PackedVector3Array(0.954305, 0.5, 0.584704, -0.985089, -0.5, -0.597114, -0.979406, -0.49707, 0.6, 0.985089, -0.5, -0.597114, -0.954305, 0.5, -0.578355, 0.979406, -0.49707, 0.6, -0.954305, 0.5, 0.584704, 0.954305, 0.5, -0.578355)

[sub_resource type="CylinderMesh" id="CylinderMesh_pcvoa"]
height = 0.1
radial_segments = 4
rings = 1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hig1n"]
shading_mode = 0
albedo_color = Color(0.306689, 0.339586, 0.609419, 1)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_fbu6j"]
points = PackedVector3Array(0.0149103, 0.05, 0.479005, -0.0158109, -0.0579256, -0.507937, -0.507937, -0.0579256, -0.0158109, 0.507937, -0.0579256, 0.0158109, 0.0149103, 0.05, -0.479005, -0.0158109, -0.0579256, 0.507937, -0.479005, 0.05, 0.0149103, 0.479005, 0.05, -0.0149103, 0.507937, -0.0579256, -0.0158109, -0.0149103, 0.05, -0.479005, 0.0158109, -0.0579256, -0.507937, -0.507937, -0.0579256, 0.0158109, 0.0158109, -0.0579256, 0.507937, -0.0149103, 0.05, 0.479005, -0.479005, 0.05, -0.0149103, 0.479005, 0.05, 0.0149103)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_ivrg1"]
points = PackedVector3Array(0.0149103, 0.05, 0.479005, -0.0158109, -0.0579256, -0.507937, -0.507937, -0.0579256, -0.0158109, 0.507937, -0.0579256, 0.0158109, 0.0149103, 0.05, -0.479005, -0.0158109, -0.0579256, 0.507937, -0.479005, 0.05, 0.0149103, 0.479005, 0.05, -0.0149103, 0.507937, -0.0579256, -0.0158109, -0.0149103, 0.05, -0.479005, 0.0158109, -0.0579256, -0.507937, -0.507937, -0.0579256, 0.0158109, 0.0158109, -0.0579256, 0.507937, -0.0149103, 0.05, 0.479005, -0.479005, 0.05, -0.0149103, 0.479005, 0.05, 0.0149103)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_dwobu"]
shading_mode = 0
albedo_color = Color(0.211765, 0.211765, 0.403922, 1)

[sub_resource type="SphereMesh" id="SphereMesh_x68ds"]
material = SubResource("StandardMaterial3D_dwobu")

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_cpq7f"]
points = PackedVector3Array(0.457871, 0.198079, 0.0157824, -0.48874, -0.0916874, -0.0451868, -0.471509, -0.137027, -0.0907015, 0.0763591, -0.333275, 0.364179, 0.136569, -0.332425, -0.346906, -0.151617, 0.471982, -0.0602459, -0.105347, 0.211936, 0.43966, -0.0450169, 0.198098, -0.456416, 0.409077, -0.151168, 0.242516, -0.271376, -0.377761, 0.181871, 0.41148, -0.075981, -0.27324, 0.198197, -0.456161, -0.044931, -0.240641, -0.331674, -0.285768, 0.227137, 0.25672, 0.363041, 0.227522, 0.423604, -0.135488, -0.37899, 0.0607022, 0.319462, -0.406747, 0.181049, -0.225691, -0.0146313, -0.0917695, 0.490229, -0.377855, 0.302793, 0.121712, 0.0462323, 0.456011, 0.198185, -0.227464, -0.0607863, -0.440348, 0.228455, 0.0607228, -0.439887, -0.0911376, -0.489246, -0.045174, 0.441865, -0.228216, -0.0449581, 0.317179, 0.241214, -0.300812, -0.0448487, 0.394737, -0.302955, -0.316348, -0.196222, 0.332551, 0.198442, -0.0304293, 0.457237, 0.0614714, -0.152246, -0.471307, 0.363089, 0.256708, 0.227079, 0.152134, -0.439489, 0.182379, -0.210725, 0.362276, 0.27223)

[sub_resource type="Animation" id="Animation_bckfv"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("WingR:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-0.349066, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("WingL:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0.349066, 0, 0)]
}

[sub_resource type="Animation" id="Animation_atc7f"]
resource_name = "WingFlap"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("WingR:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.8, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(-0.349066, 0, 0), Vector3(0.349066, 0, 0), Vector3(-0.349066, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("WingL:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.8, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(0.349066, 0, 0), Vector3(-0.349066, 0, 0), Vector3(0.349066, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_toytf"]
_data = {
"RESET": SubResource("Animation_bckfv"),
"WingFlap": SubResource("Animation_atc7f")
}

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_f40gt"]
cull_mode = 1
shading_mode = 0
albedo_color = Color(0, 0, 0, 1)
grow = true
grow_amount = 0.01

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tt3ix"]
next_pass = SubResource("StandardMaterial3D_f40gt")
shading_mode = 0
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="SphereMesh" id="SphereMesh_ouita"]
material = SubResource("StandardMaterial3D_tt3ix")

[node name="Pigeon" type="CharacterBody3D" node_paths=PackedStringArray("creature_animator", "camera_marker", "camera_to_creature_timer", "rayCast", "debug_mesh") groups=["mother"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
script = ExtResource("1_wfdg6")
speed = 10
jump_height = null
controlling = null
creature_animator = NodePath("AnimationPlayer")
camera_marker = NodePath("CameraHolder")
camera_to_creature_timer = NodePath("CameraToCreatureTimer")
duration_to_start_control = null
rayCast = NodePath("Eyes")
debug_mesh = NodePath("DebugMesh")
noise = SubResource("FastNoiseLite_447fv")
frequency = null
radius = null
axis = null
theta = null
amplitude = null
distance = null
vel = null
force = null
acceleration = null
mass = null

[node name="Body" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.2, 0, 0)
mesh = SubResource("BoxMesh_f2vnx")

[node name="BodyCollisionShape" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.2, 0, 0)
shape = SubResource("ConvexPolygonShape3D_d2uxl")

[node name="WingR" type="MeshInstance3D" parent="."]
transform = Transform3D(2, 0, 0, 0, 1.87939, 0.684042, 0, -0.684042, 1.87939, 0, 0, -0.5)
mesh = SubResource("CylinderMesh_pcvoa")
surface_material_override/0 = SubResource("StandardMaterial3D_hig1n")

[node name="WingRCollisionShape" type="CollisionShape3D" parent="."]
transform = Transform3D(2, 0, 0, 0, 1.87939, 0.684042, 0, -0.684042, 1.87939, 0, 0, -0.5)
shape = SubResource("ConvexPolygonShape3D_fbu6j")

[node name="WingL" type="MeshInstance3D" parent="."]
transform = Transform3D(2, 0, 0, 0, 1.87939, -0.684042, 0, 0.684042, 1.87939, 0, 0, 0.5)
mesh = SubResource("CylinderMesh_pcvoa")
surface_material_override/0 = SubResource("StandardMaterial3D_hig1n")

[node name="WingLCollisionShape" type="CollisionShape3D" parent="."]
transform = Transform3D(2, 0, 0, 0, 1.87939, -0.684042, 0, 0.684042, 1.87939, 0, 0, 0.5)
shape = SubResource("ConvexPolygonShape3D_ivrg1")

[node name="Head" type="MeshInstance3D" parent="."]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, -1, 0.5, 0)
mesh = SubResource("SphereMesh_x68ds")

[node name="HeadCollisionShape" type="CollisionShape3D" parent="."]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, -1, 0.5, 0)
shape = SubResource("ConvexPolygonShape3D_cpq7f")

[node name="CameraHolder" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 3, 0)

[node name="CameraToCreatureTimer" type="Timer" parent="."]
wait_time = 2.0
one_shot = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_toytf")
}
speed_scale = 4.0

[node name="Eyes" type="RayCast3D" parent="."]
target_position = Vector3(-10, 0, 0)

[node name="DebugMesh" type="MeshInstance3D" parent="."]
mesh = SubResource("SphereMesh_ouita")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]
